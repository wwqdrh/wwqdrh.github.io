<!DOCTYPE html><html lang="zh-CN"><head><meta name="viewport" content="width=device-width"/><title>微服务设计1</title><meta name="robots" content="follow, index"/><meta charSet="UTF-8"/><meta name="description" content="微服务设计读书笔记-第1-2章"/><meta property="og:type"/><meta property="og:title" content="微服务设计1"/><meta property="og:description" content="微服务设计读书笔记-第1-2章"/><meta property="og:url" content="https://wwqdrh.github.io/undefined"/><meta name="keywords" content="wwqdrh技术博客"/><meta property="og:locale" content="zh-CN"/><meta property="og:image" content="https://wwqdrh.github.io"/><meta name="twitter:title" content="微服务设计1"/><meta name="twitter:description" content="微服务设计读书笔记-第1-2章"/><meta name="twitter:card" content="summary_large_image"/><meta name="twitter:image" content="https://wwqdrh.github.io"/><link rel="stylesheet" href="/assets/mdrender/editor-render.css"/><meta name="next-head-count" content="17"/><link rel="icon" href="/favicon.ico"/><link rel="apple-touch-icon" sizes="192x192" href="/apple-touch-icon.png"/><link rel="alternate" type="application/rss+xml" title="RSS 2.0" href="/feed"/><script src="/assets/analizy/clarity.js"></script><link rel="preload" href="/_next/static/media/d83e92f0af8b17e4-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/ed42d1b51efd45f6-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/fba9d678ff638e59-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/e52907b750a6f61e-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/9031250013752d4b-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/eb9adf802b0a60eb-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/81b352a4d7a000ae-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/41b9b3ece820718f-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/media/d587d1c112526568-s.p.woff2" as="font" type="font/woff2" crossorigin="anonymous" data-next-font="size-adjust"/><link rel="preload" href="/_next/static/css/869c7de7c781f904.css" as="style"/><link rel="stylesheet" href="/_next/static/css/869c7de7c781f904.css" data-n-g=""/><noscript data-n-css=""></noscript><script defer="" nomodule="" src="/_next/static/chunks/polyfills-78c92fac7aa8fdd8.js"></script><script src="/_next/static/chunks/webpack-6ef43a8d4a395f49.js" defer=""></script><script src="/_next/static/chunks/framework-fbe37f60a09a330b.js" defer=""></script><script src="/_next/static/chunks/main-082d90b1269d95f6.js" defer=""></script><script src="/_next/static/chunks/pages/_app-494ee9c4b0594b31.js" defer=""></script><script src="/_next/static/chunks/pages/blog/%5B...slug%5D-222bf60d0a2bf3df.js" defer=""></script><script src="/_next/static/xycpTPo5G1XEQLx5GlDdu/_buildManifest.js" defer=""></script><script src="/_next/static/xycpTPo5G1XEQLx5GlDdu/_ssgManifest.js" defer=""></script></head><body><div id="__next"><style data-emotion="css-global c86wz">body{margin:0;padding:0;color:hsl(0, 0%, 9.0%);background-color:hsl(0, 0%, 97.3%);font-family:'__pretendard_6bb8e5','__pretendard_Fallback_6bb8e5';}*{-webkit-print-color-scheme:light;color-scheme:light;box-sizing:border-box;}h1,h2,h3,h4,h5,h6{margin:0;font-weight:inherit;font-style:inherit;}a{all:unset;cursor:pointer;}ul{padding:0;}button{all:unset;cursor:pointer;}input{all:unset;box-sizing:border-box;}textarea{border:none;background-color:transparent;font-family:inherit;padding:0;outline:none;resize:none;color:inherit;}hr{width:100%;border:none;margin:0;border-top:1px solid hsl(0, 0%, 88.7%);}</style><style data-emotion="css 1q70a33">.css-1q70a33{z-index:30;position:-webkit-sticky;position:sticky;top:0;background-color:hsl(0, 0%, 97.3%);box-shadow:0 1px 2px 0 rgba(0, 0, 0, 0.05);}.css-1q70a33 .container{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-box-pack:justify;-webkit-justify-content:space-between;justify-content:space-between;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;width:100%;height:3rem;margin:0 auto;}@media (min-width: 768px){.css-1q70a33 .container[data-full-width="true"]{padding-left:6rem;padding-right:6rem;}}.css-1q70a33 .container .nav{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;gap:0.75rem;-webkit-align-items:center;-webkit-box-align:center;-ms-flex-align:center;align-items:center;}.css-1q70a33 .container .mid{padding-top:0.5rem;padding-bottom:0.5rem;padding-left:1.25rem;padding-right:1.25rem;border-radius:1rem;outline-style:none;width:50%;background-color:hsl(0, 0%, 93.0%);}</style><div class="py-2 css-1q70a33"><div data-full-width="false" class="container"><a aria-label="wwqdrh" class="css-0" href="/">wwqdrh</a><input class="mid" type="text" placeholder="Search Keyword..." value=""/><div class="nav"><style data-emotion="css 1nw6zn9">.css-1nw6zn9{-webkit-flex-shrink:0;-ms-flex-negative:0;flex-shrink:0;}.css-1nw6zn9 ul{display:-webkit-box;display:-webkit-flex;display:-ms-flexbox;display:flex;-webkit-flex-direction:row;-ms-flex-direction:row;flex-direction:row;}.css-1nw6zn9 ul li{display:block;margin-left:1rem;color:hsl(0, 0%, 43.5%);}</style><div class="css-1nw6zn9"><ul><li><a target="_blank" href="https://space.bilibili.com/538676331">B站</a></li></ul></div><style data-emotion="css 1h5x3dy">.css-1h5x3dy{cursor:pointer;}</style><div class="css-1h5x3dy"><style data-emotion="css p95608">.css-p95608{font-family:'__Noto_Color_Emoji_be1378','__Noto_Color_Emoji_Fallback_be1378',Apple Color Emoji;font-weight:400;font-style:normal;}</style><span class="css-p95608">☀️</span></div></div></div></div><style data-emotion="css lomkhl">.css-lomkhl{margin:0 auto;width:100%;padding:0 3rem;}</style><main class="css-lomkhl"><div class="divide-y bg-white dark:bg-gray-700 p-6 shadow-lg rounded-lg mt-3 divide-gray-200 dark:divide-gray-700 xl:col-span-3 xl:row-span-2 xl:pb-0"><div class="max-w-none pt-10 pb-8 prose dark:prose-dark"><div><h1>什么是微服务</h1>
<blockquote>
<p>SOA设计模式：面向服务的架构，需要解决的问题是通信协议如何选择、第三方中间件如何选择、服务粒度如何确定鞥</p>
</blockquote>
<p>主要为微服务做定义，以及说明有什么优点与缺点，微服务架构应该是什么样的</p>
<p>微服务就是一些协同工作的小而自治的服务</p>
<blockquote>
<p>单一职责原则: 把因相同原因而变化的东西聚合在一起，而把因不同原因而变化的东西分离开来</p>
</blockquote>
<p>微服务将这一原则应用在独立的服务中，根据业务的边界来确定服务的边界</p>
<p>仅暴露外部需要的API，避免与消费方耦合</p>
<ul>
<li>弹性: 舱壁，需要做到修改一个服务并对其进行部署，而不影响其他任何服务</li>
<li>技术异构性: 使用最合适的技术做相应的服务</li>
<li>扩展: 细粒度的优势使得能够做到按需扩展需要的服务，以及简化部署，能够快速回滚</li>
<li>与组织结构相匹配，各司其职</li>
<li>可组合性: 易于重用已有的服务</li>
<li>对可替代性的优化: 轻易的重写已有的服务或者进行删除</li>
</ul>
<p>这章最后提醒了，<em>微服务并不是一个通用的法则，要得到这些好处，同样的需要在部署、测试和监控方面做很多的工作，还需要考虑如何扩展系统，并保证它们的弹性，以及分布式事务等问题</em></p>
<h1>演化式架构师</h1>
<p>“事实上，我们要创造的东西从设计上来说就是要足够的灵活，有更好的适应性，并且能够根据用户的需求进行演化”</p>
<p>架构师必须改变那种从一开始就要设计出完美产品的想法，相反我们应该设计出一个合理的框架，在这个框架下可以慢慢演化出正确的系统，并且一旦我们学到了更多知识，应该可以很容易地应用到系统中。</p>
<blockquote>
<p>像是城市规划师，而不是建筑师</p>
</blockquote>
<p>作为架构师，不应该过多关注每个区域内发生的事情。这意味着我们应该考虑不同的服务之间如何交互，或者说保证我们能够对整个系统的健康状态进行监控。</p>
<p>制定原则，并且原则与实践相结合，用一些重要的原则来指导系统的演化，以及如何实现这些原则的细节。</p>
<ul>
<li>例如通信的方式，不能一个是http接口，一个是protobuffer，另一个又是Java RMI</li>
<li>代码规范</li>
<li>日志处理</li>
</ul>
<p>能够清晰地描绘出跨服务系统的健康状态非常关键</p>
<p>可以选择push或者pull的方法进行收集数据，日志与监控类似，都是需要集中式管理</p>
<p>做好技术债务的平衡</p>
<p>一个演进式架构师应该承担的职责</p>
<ul>
<li>愿景: 确保在系统级有一个经过充分沟通的技术愿景，这个愿景可以帮助你满足客户和组织的需求</li>
<li>同理心: 理解你所做的决定对客户和同事带来的影响</li>
<li>合作: 和尽量多的同事进行沟通，从而更好地对愿景进行定义、修订及执行</li>
<li>适应性: 确保在你的客户和组织需要的时候调整技术愿景</li>
<li>自治性: 在标准化和团队自治之间寻找一个正确的平衡点</li>
<li>治理: 确保系统按照技术愿景的要求实现</li>
</ul>
</div></div></div></main></div><script id="__NEXT_DATA__" type="application/json">{"props":{"pageProps":{"post":{"mdxSource":"\u003ch1\u003e什么是微服务\u003c/h1\u003e\n\u003cblockquote\u003e\n\u003cp\u003eSOA设计模式：面向服务的架构，需要解决的问题是通信协议如何选择、第三方中间件如何选择、服务粒度如何确定鞥\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e主要为微服务做定义，以及说明有什么优点与缺点，微服务架构应该是什么样的\u003c/p\u003e\n\u003cp\u003e微服务就是一些协同工作的小而自治的服务\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e单一职责原则: 把因相同原因而变化的东西聚合在一起，而把因不同原因而变化的东西分离开来\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e微服务将这一原则应用在独立的服务中，根据业务的边界来确定服务的边界\u003c/p\u003e\n\u003cp\u003e仅暴露外部需要的API，避免与消费方耦合\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e弹性: 舱壁，需要做到修改一个服务并对其进行部署，而不影响其他任何服务\u003c/li\u003e\n\u003cli\u003e技术异构性: 使用最合适的技术做相应的服务\u003c/li\u003e\n\u003cli\u003e扩展: 细粒度的优势使得能够做到按需扩展需要的服务，以及简化部署，能够快速回滚\u003c/li\u003e\n\u003cli\u003e与组织结构相匹配，各司其职\u003c/li\u003e\n\u003cli\u003e可组合性: 易于重用已有的服务\u003c/li\u003e\n\u003cli\u003e对可替代性的优化: 轻易的重写已有的服务或者进行删除\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e这章最后提醒了，\u003cem\u003e微服务并不是一个通用的法则，要得到这些好处，同样的需要在部署、测试和监控方面做很多的工作，还需要考虑如何扩展系统，并保证它们的弹性，以及分布式事务等问题\u003c/em\u003e\u003c/p\u003e\n\u003ch1\u003e演化式架构师\u003c/h1\u003e\n\u003cp\u003e“事实上，我们要创造的东西从设计上来说就是要足够的灵活，有更好的适应性，并且能够根据用户的需求进行演化”\u003c/p\u003e\n\u003cp\u003e架构师必须改变那种从一开始就要设计出完美产品的想法，相反我们应该设计出一个合理的框架，在这个框架下可以慢慢演化出正确的系统，并且一旦我们学到了更多知识，应该可以很容易地应用到系统中。\u003c/p\u003e\n\u003cblockquote\u003e\n\u003cp\u003e像是城市规划师，而不是建筑师\u003c/p\u003e\n\u003c/blockquote\u003e\n\u003cp\u003e作为架构师，不应该过多关注每个区域内发生的事情。这意味着我们应该考虑不同的服务之间如何交互，或者说保证我们能够对整个系统的健康状态进行监控。\u003c/p\u003e\n\u003cp\u003e制定原则，并且原则与实践相结合，用一些重要的原则来指导系统的演化，以及如何实现这些原则的细节。\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e例如通信的方式，不能一个是http接口，一个是protobuffer，另一个又是Java RMI\u003c/li\u003e\n\u003cli\u003e代码规范\u003c/li\u003e\n\u003cli\u003e日志处理\u003c/li\u003e\n\u003c/ul\u003e\n\u003cp\u003e能够清晰地描绘出跨服务系统的健康状态非常关键\u003c/p\u003e\n\u003cp\u003e可以选择push或者pull的方法进行收集数据，日志与监控类似，都是需要集中式管理\u003c/p\u003e\n\u003cp\u003e做好技术债务的平衡\u003c/p\u003e\n\u003cp\u003e一个演进式架构师应该承担的职责\u003c/p\u003e\n\u003cul\u003e\n\u003cli\u003e愿景: 确保在系统级有一个经过充分沟通的技术愿景，这个愿景可以帮助你满足客户和组织的需求\u003c/li\u003e\n\u003cli\u003e同理心: 理解你所做的决定对客户和同事带来的影响\u003c/li\u003e\n\u003cli\u003e合作: 和尽量多的同事进行沟通，从而更好地对愿景进行定义、修订及执行\u003c/li\u003e\n\u003cli\u003e适应性: 确保在你的客户和组织需要的时候调整技术愿景\u003c/li\u003e\n\u003cli\u003e自治性: 在标准化和团队自治之间寻找一个正确的平衡点\u003c/li\u003e\n\u003cli\u003e治理: 确保系统按照技术愿景的要求实现\u003c/li\u003e\n\u003c/ul\u003e\n","frontMatter":{"readingTime":{"text":"6 min read","minutes":5.07,"time":304200,"words":1014},"slug":"《微服务设计》读书笔记 - 1","fileName":"《微服务设计》读书笔记 - 1.md","title":"微服务设计1","date":"2022-07-31T00:00:00.000Z","tags":["读书笔记"],"category":["读书笔记"],"draft":false,"summary":"微服务设计读书笔记-第1-2章"}},"prev":{"title":"容器之间的网络模式","date":"2022-07-04T00:00:00.000Z","tags":["容器"],"draft":false,"summary":"容器之间的网络模式简介","slug":"容器之间的网络模式"},"next":{"title":"微服务设计2","date":"2022-08-02T00:00:00.000Z","tags":["读书笔记"],"draft":false,"summary":"微服务设计读书笔记-第3-4章","slug":"《微服务设计》读书笔记 - 2"}},"__N_SSG":true},"page":"/blog/[...slug]","query":{"slug":["《微服务设计》读书笔记 - 1"]},"buildId":"xycpTPo5G1XEQLx5GlDdu","isFallback":false,"gsp":true,"scriptLoader":[]}</script></body></html>