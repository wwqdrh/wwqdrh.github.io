{"pageProps":{"post":{"mdxSource":"<h1>简介</h1>\n<p>AR开发分为专用设备对应的ARkit，以及webar，目前专用设备的ar开发没有设备无法接触，所以先从webar开始入手</p>\n<p>webar常见的ar库包括</p>\n<ul>\n<li>ar.js</li>\n<li>ARToolKit</li>\n<li>JSARToolKit: 使用WebGL&amp;Three.js实现3D模型展示</li>\n<li>argonjs</li>\n<li>awe.js: 提供了增强现实标记，基于位置和leap motion传感器AR，使用WebRTC、WebGL和getUserMedia设备API在浏览器中实现AR功能</li>\n<li>three.ar.js</li>\n<li>tracking.js</li>\n</ul>\n<h1>MindAR</h1>\n<ul>\n<li><a href=\"https://hiukim.github.io/mind-ar-js-doc/\">文档链接</a></li>\n<li><a href=\"https://github.com/hiukim/mind-ar-js/tree/master/examples\">应用示例</a></li>\n</ul>\n<blockquote>\n<p>一个基于ar.js以及three.js封装的开发库，能够方便的实现物品跟踪，人脸识别等ar功能\n从MindAR v.1.2.0开始，threejs变成了外部依赖，需要自己安装，但是支持的最低版本是v137</p>\n</blockquote>\n<h2>安装</h2>\n<p><code>图像跟踪</code></p>\n<pre><code class=\"hljs language-html\"><span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">src=&quot;https://aframe.io/releases/1.4.2/aframe.min.js&quot;&gt;&lt;/script&gt;</span>\n<span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">src=&quot;https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js&quot;&gt;&lt;/script&gt;</span>\n\n<span class=\"hljs-string\">&lt;!--</span> <span class=\"hljs-string\">引入threejs</span> <span class=\"hljs-string\">--&gt;</span>\n<span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">async</span> <span class=\"hljs-string\">src=&quot;https://unpkg.com/es-module-shims@1.7.3/dist/es-module-shims.js&quot;&gt;&lt;/script&gt;</span>\n<span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">type=&quot;importmap&quot;&gt;</span>\n{\n  <span class=\"hljs-attr\">&quot;imports&quot;:</span> {\n    <span class=\"hljs-attr\">&quot;three&quot;:</span> <span class=\"hljs-string\">&quot;https://unpkg.com/three@0.147.0/build/three.module.js&quot;</span>,\n    <span class=\"hljs-attr\">&quot;three/addons/&quot;:</span> <span class=\"hljs-string\">&quot;https://unpkg.com/three@0.147.0/examples/jsm/&quot;</span>,\n    <span class=\"hljs-string\">&quot;mindar-image-three&quot;</span><span class=\"hljs-string\">:&quot;https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-three.prod.js&quot;</span>\n  }\n}\n<span class=\"hljs-string\">&lt;/script&gt;</span>\n\n<span class=\"hljs-string\">&lt;!--</span> <span class=\"hljs-string\">使用</span> <span class=\"hljs-string\">--&gt;</span>\n<span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">type=&quot;module&quot;&gt;</span>\n  <span class=\"hljs-string\">import</span> <span class=\"hljs-string\">*</span> <span class=\"hljs-string\">as</span> <span class=\"hljs-string\">THREE</span> <span class=\"hljs-string\">from</span> <span class=\"hljs-string\">&#x27;three&#x27;</span><span class=\"hljs-string\">;</span>\n  <span class=\"hljs-string\">import</span> { <span class=\"hljs-string\">MindARThree</span> } <span class=\"hljs-string\">from</span> <span class=\"hljs-string\">&#x27;mindar-image-three&#x27;</span><span class=\"hljs-string\">;</span>\n<span class=\"hljs-string\">&lt;/script&gt;</span>\n</code></pre><p><code>人脸跟踪</code></p>\n<pre><code class=\"hljs language-html\"><span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">src=&quot;https://aframe.io/releases/1.4.2/aframe.min.js&quot;&gt;&lt;/script&gt;</span>\n<span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">src=&quot;https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-face-aframe.prod.js&quot;&gt;&lt;/script&gt;</span>\n\n<span class=\"hljs-string\">&lt;!--</span> <span class=\"hljs-string\">引入threejs</span> <span class=\"hljs-string\">--&gt;</span>\n<span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">async</span> <span class=\"hljs-string\">src=&quot;https://unpkg.com/es-module-shims@1.3.6/dist/es-module-shims.js&quot;&gt;&lt;/script&gt;</span>\n<span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">type=&quot;importmap&quot;&gt;</span>\n{\n  <span class=\"hljs-attr\">&quot;imports&quot;:</span> {\n    <span class=\"hljs-attr\">&quot;three&quot;:</span> <span class=\"hljs-string\">&quot;https://unpkg.com/three@0.147.0/build/three.module.js&quot;</span>,\n    <span class=\"hljs-attr\">&quot;three/addons/&quot;:</span> <span class=\"hljs-string\">&quot;https://unpkg.com/three@0.147.0/examples/jsm/&quot;</span>,\n    <span class=\"hljs-string\">&quot;mindar-face-three&quot;</span><span class=\"hljs-string\">:&quot;https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-face-three.prod.js&quot;</span>\n  }\n}\n<span class=\"hljs-string\">&lt;/script&gt;</span>\n\n<span class=\"hljs-string\">&lt;!--</span> <span class=\"hljs-string\">使用</span> <span class=\"hljs-string\">--&gt;</span>\n<span class=\"hljs-string\">&lt;script</span> <span class=\"hljs-string\">type=&quot;module&quot;&gt;</span>\n  <span class=\"hljs-string\">import</span> <span class=\"hljs-string\">*</span> <span class=\"hljs-string\">as</span> <span class=\"hljs-string\">THREE</span> <span class=\"hljs-string\">from</span> <span class=\"hljs-string\">&#x27;three&#x27;</span><span class=\"hljs-string\">;</span>\n  <span class=\"hljs-string\">import</span> { <span class=\"hljs-string\">MindARThree</span> } <span class=\"hljs-string\">from</span> <span class=\"hljs-string\">&#x27;mindar-face-three&#x27;</span><span class=\"hljs-string\">;</span>\n<span class=\"hljs-string\">&lt;/script&gt;</span>\n</code></pre><hr>\n<p>或者使用npm包管理引入</p>\n<pre><code class=\"hljs language-bash\">&gt; npm i mind-ar --save\n&gt; npm i aframe --save\n</code></pre><p><code>图像跟踪</code></p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;aframe&#x27;</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;mind-ar/dist/mindar-image-aframe.prod.js&#x27;</span>;\n<span class=\"hljs-keyword\">import</span> {<span class=\"hljs-title class_\">MindARThree</span>} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;mind-ar/dist/mindar-image-three.prod.js&#x27;</span>;\n</code></pre><p><code>人脸跟踪</code></p>\n<pre><code class=\"hljs language-javascript\"><span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;aframe&#x27;</span>;\n<span class=\"hljs-keyword\">import</span> <span class=\"hljs-string\">&#x27;mind-ar/dist/mindar-face-aframe.prod.js&#x27;</span>;\n<span class=\"hljs-keyword\">import</span> {<span class=\"hljs-title class_\">MindARThree</span>} <span class=\"hljs-keyword\">from</span> <span class=\"hljs-string\">&#x27;mind-ar/dist/mindar-face-three.prod.js&#x27;</span>;\n</code></pre><h1>图像跟踪开发</h1>\n<p>使用一个静态html文件开发一个AR应用，包括启动设备相机，定位图像目标，然后展示增强对象在这个目标上。</p>\n<blockquote>\n<p>增强对象可以是3D模型、图片、视频、CSS、音频等</p>\n</blockquote>\n<p>对于需要检测的图片目标，需要先经过<a href=\"https://hiukim.github.io/mind-ar-js-doc/quick-start/compile\">数据转换</a>，上传图片后开始编译形成mind文件。</p>\n<h2>AFRAME扩展</h2>\n<p>用于轻松构建3D场景，包括下面的这些html标签</p>\n<ul>\n<li>a-scene</li>\n<li>a-entity：检测目标</li>\n<li>a-plane：一些简单的图形</li>\n<li>a-camera</li>\n<li>a-assets</li>\n<li>a-asset-item</li>\n<li>a-gltf-model</li>\n</ul>\n<h2>3D资源</h2>\n<p>AFRAME几乎支持所有标准的3D格式，包括gltf格式</p>\n<h2>微调</h2>\n<p>采用某种多帧的滚动平均值来定位目标，使得内容更加稳定</p>\n<p><code>OneEuroFilter</code></p>\n<blockquote>\n<p>降低可以减少抖动\n增加可以减少延迟</p>\n</blockquote>\n<ul>\n<li>filterMinCF：截止频率，默认值为0.001</li>\n<li>filterBeta：速度系数，默认值为1000</li>\n</ul>\n<hr>\n<ul>\n<li>warmupTolerance: 在指定的连续帧中检测到目标值就视为成功，避免误报，默认值为5</li>\n<li>missTolerance: 在指定的连续帧中未检测到目标值视为成功，默认值为5</li>\n</ul>\n<h2>示例</h2>\n<blockquote>\n<p>效果示意图</p>\n</blockquote>\n<img src=\"/images/blogs/ar开发/图像跟踪.jpg\" />\n\n<pre><code class=\"hljs language-html\">&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta name=<span class=\"hljs-string\">&quot;viewport&quot;</span> content=<span class=\"hljs-string\">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;\n    &lt;script src=<span class=\"hljs-string\">&quot;https://aframe.io/releases/1.4.2/aframe.min.js&quot;</span>&gt;&lt;/script&gt;\n    &lt;script src=<span class=\"hljs-string\">&quot;https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-image-aframe.prod.js&quot;</span>&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;a-scene mindar-image=<span class=\"hljs-string\">&quot;imageTargetSrc: ./targets.mind; showStats: true;&quot;</span> color-space=<span class=\"hljs-string\">&quot;sRGB&quot;</span> renderer=<span class=\"hljs-string\">&quot;colorManagement: true, physicallyCorrectLights&quot;</span> vr-mode-ui=<span class=\"hljs-string\">&quot;enabled: false&quot;</span> device-orientation-permission-ui=<span class=\"hljs-string\">&quot;enabled: false&quot;</span>&gt;\n      &lt;a-assets&gt;\n        &lt;img id=<span class=\"hljs-string\">&quot;card&quot;</span> src=<span class=\"hljs-string\">&quot;https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.2/examples/image-tracking/assets/card-example/card.png&quot;</span> /&gt;\n        &lt;a-asset-item id=<span class=\"hljs-string\">&quot;avatarModel&quot;</span> src=<span class=\"hljs-string\">&quot;https://cdn.jsdelivr.net/gh/hiukim/mind-ar-js@1.2.2/examples/image-tracking/assets/card-example/softmind/scene.gltf&quot;</span>&gt;&lt;/a-asset-item&gt;\n      &lt;/a-assets&gt;\n\n\n      &lt;a-camera position=<span class=\"hljs-string\">&quot;0 0 0&quot;</span> look-controls=<span class=\"hljs-string\">&quot;enabled: false&quot;</span>&gt;&lt;/a-camera&gt;\n\n\n      &lt;a-entity mindar-image-target=<span class=\"hljs-string\">&quot;targetIndex: 0&quot;</span>&gt;\n        &lt;a-plane src=<span class=\"hljs-string\">&quot;#card&quot;</span> position=<span class=\"hljs-string\">&quot;0 0 0&quot;</span> height=<span class=\"hljs-string\">&quot;0.552&quot;</span> width=<span class=\"hljs-string\">&quot;1&quot;</span> rotation=<span class=\"hljs-string\">&quot;0 0 0&quot;</span>&gt;&lt;/a-plane&gt;\n        &lt;a-gltf-model rotation=<span class=\"hljs-string\">&quot;0 0 0 &quot;</span> position=<span class=\"hljs-string\">&quot;0 0 0.1&quot;</span> scale=<span class=\"hljs-string\">&quot;0.005 0.005 0.005&quot;</span> src=<span class=\"hljs-string\">&quot;#avatarModel&quot;</span> animation=<span class=\"hljs-string\">&quot;property: position; to: 0 0.1 0.1; dur: 1000; easing: easeInOutQuad; loop: true; dir: alternate&quot;</span>&gt;\n      &lt;/a-entity&gt;\n    &lt;/a-scene&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre><h1>人脸跟踪开发</h1>\n<h2>示例</h2>\n<blockquote>\n<p>效果示意图</p>\n</blockquote>\n<img src=\"/images/blogs/ar开发/人脸跟踪.png\" />\n\n\n<pre><code class=\"hljs language-html\">\n&lt;html&gt;\n  &lt;head&gt;\n    &lt;meta name=<span class=\"hljs-string\">&quot;viewport&quot;</span> content=<span class=\"hljs-string\">&quot;width=device-width, initial-scale=1&quot;</span> /&gt;\n    &lt;script src=<span class=\"hljs-string\">&quot;https://aframe.io/releases/1.4.2/aframe.min.js&quot;</span>&gt;&lt;/script&gt;\n    &lt;script src=<span class=\"hljs-string\">&quot;https://cdn.jsdelivr.net/npm/mind-ar@1.2.2/dist/mindar-face-aframe.prod.js&quot;</span>&gt;&lt;/script&gt;\n  &lt;/head&gt;\n  &lt;body&gt;\n    &lt;a-scene mindar-face embedded color-space=<span class=\"hljs-string\">&quot;sRGB&quot;</span> renderer=<span class=\"hljs-string\">&quot;colorManagement: true, physicallyCorrectLights&quot;</span> vr-mode-ui=<span class=\"hljs-string\">&quot;enabled: false&quot;</span> device-orientation-permission-ui=<span class=\"hljs-string\">&quot;enabled: false&quot;</span>&gt;\n      &lt;a-camera active=<span class=\"hljs-string\">&quot;false&quot;</span> position=<span class=\"hljs-string\">&quot;0 0 0&quot;</span>&gt;&lt;/a-camera&gt;\n      &lt;a-entity mindar-face-target=<span class=\"hljs-string\">&quot;anchorIndex: 1&quot;</span>&gt;\n    &lt;a-sphere color=<span class=\"hljs-string\">&quot;green&quot;</span> radius=<span class=\"hljs-string\">&quot;0.1&quot;</span>&gt;&lt;/a-sphere&gt;\n      &lt;/a-entity&gt;\n    &lt;/a-scene&gt;\n  &lt;/body&gt;\n&lt;/html&gt;\n</code></pre>","frontMatter":{"readingTime":{"text":"6 min read","minutes":5.01,"time":300600,"words":1002},"slug":"AR开发/AR开发示例程序","fileName":"AR开发/AR开发示例程序.md","title":"AR开发示例程序","date":"2023-10-05T00:00:00.000Z","tags":["AR开发"],"draft":false,"summary":"应用示例"}},"prev":{"title":"threejs上手","date":"2023-10-05T00:00:00.000Z","tags":["AR开发"],"draft":false,"summary":"3D模型","slug":"AR开发/threejs上手"},"next":{"date":"2024-08-26T00:00:00.000Z","tags":["godot"],"category":["godot-release"],"thumbnail":"https://cdn.ipfsscan.io/weibo/large/005ZoLfCgy1ht1cdcfv7ej30wq0e276k.jpg","draft":false,"keywords":["godot教程","godot中文教程","godot开发教程","godot更新日志"],"title":"web导出的单线程模式","slug":"godot-release/4.3/web导出的单线程模式"}},"__N_SSG":true}